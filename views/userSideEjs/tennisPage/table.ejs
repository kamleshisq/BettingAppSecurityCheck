<%if(liveTennis.length > 0 || upcomintTennis.length > 0){%>
  <div class="exchange-pg-tbl-ro2">
        <table class="acount-stat-tbl">

          <thead class="acount-stat-tbl-hed">
              <tr class="acount-stat-tbl-hed-tr" data-href='/exchange/tennis'>
                  <th style="text-align: left;" class="bod-red-lft ">Tennis</th>
                  <th></th>
                  <th colspan="2">1</th>
                  <th colspan="2">X</th>
                  <th colspan="2" class="bod-red-rit">2</th>
              </tr>
          </thead>

          <tbody class="acount-stat-tbl-body myTable">
            <% let cricketNum = 1 %>
            <%for(let i = 0; i < liveTennis.length; i++){%>
              <%if(liveTennis[i].marketList.match_odd != null){%>
                <%
                  var timestamp = `${liveTennis[i].eventData.time}` * 1000; 
                  var date = new Date(timestamp);
                  var options = { 
                    day: '2-digit',
                    month: 'short'
                  };
                  var formattedTime = date.toLocaleString('en-US', options);
                %>
                <% let player1Score = 'N/A'; %>
                <% let player2Score = 'N/A'; %>
                <%if(liveTennis[i].marketList.score != null){%>
                  <% const scoreRegex = /<span class="set current">(\d+)<\/span>/g; %>
                  <% const scores = liveTennis[i].marketList.score[0].data.match(scoreRegex); %>
  
                  <% if (scores && scores.length >= 4) { %>
                      <% player1Score = parseInt(scores[2], 10) - parseInt(scores[0], 10); %>
                      <% player2Score = parseInt(scores[3], 10) - parseInt(scores[1], 10); %>
                  <% } %>
                <%}%>


                <tr class="acount-stat-tbl-body-tr tbl-data-href" data-href='/exchange_inPlay/match?id=<%=liveTennis[i].eventData.eventId%>'>
                    <td style="border-bottom: 0px;" class="name1" id="<%=liveTennis[i].marketList.match_odd.marketId%>" >
                      <div class="exchange-pg-mytbl-body-cricket-data-dv">
                        <span class="exchange-pg-mytbl-body-liv-dot"></span>
                        <p>
                          <span><%=liveTennis[i].eventData.league%></span> • <%=formattedTime%>
                        </p>
                        <p>
                            <b><%=liveTennis[i].eventData.name%></b>
                        </p>
                        <%if(liveTennis[i].marketList.score != null){%>
                          <!-- <span class="ctbal-scor-spn-wrp">
                            <span class="ctbal-scor-spn1"><%=player1Score%></span>
                            <span class="ctbal-scor-spn2"><%=player2Score%></span>
                          </span> -->
                        <% }%>
                    </div>
                    </td>
                    <td style="border-bottom: 0px;" >
                      <div class="exchange-td2-txtdv">
                        <%if(liveTennis[i].eventData.isTv){%>
                          <div class="exchange-td2-txtdv-tv">
                            <i class="fa-solid fa-tv c-activee"></i>
                          </div>
                        <%}%>
                        <%if(liveTennis[i].marketList.match_odd != null){%>
                        <div class="exchange-td2-txtdv-inn1">
                          <p> MO </p>
                          <span>35</span>
                        </div>
                        <%} %>
                        <%if(liveTennis[i].marketList.fancy != null){%>
                          <div class="exchange-td2-txtdv-inn1">
                            <p> F </p>
                            <span>1</span>
                          </div>
                        <%}%>
                        <%if(liveTennis[i].marketList.bookmaker != null){%>
                          <div class="exchange-td2-txtdv-inn1">
                            <p> B </p>
                            <span>1</span>
                          </div>
                        <%} %>
                      </div>
                    </td>
                    <% let runners = JSON.parse(liveTennis[i].marketList.match_odd.runners); %>
                    <% let runners1 = []; %>
                    <%let secIds = []; %>
                    <%runners.forEach(item => {%>
                        <%runners1.push(item.runner);%>
                        <%secIds.push(item.secId);%>
                    <%});%>
                    <%if(runners1.length === 2){%>
                    <td style="border-bottom: 0px;"  class="0B" id="<%=secIds[0]%>"></td>
                    <td style="border-bottom: 0px;"  class="0L" id="<%=secIds[0]%>"></td>
                    <td style="border-bottom: 0px;"  class="">
                      <span class="tbl-td-bg-blu-spn mylock-data">
                        <i class="fa-solid fa-lock"></i>
                      </span>
                    </td>
                    <td style="border-bottom: 0px;"  class="">
                      <span class="tbl-td-bg-pich-spn mylock-data">
                        <i class="fa-solid fa-lock"></i>
                      </span>
                    </td>
                    <td style="border-bottom: 0px;"  class="1B" id="<%=secIds[1]%>"></td>
                    <td style="border-bottom: 0px;"  class="1L" id="<%=secIds[1]%>"></td>
                    <td style="border-bottom: 0px;" class="multi_market" id="<%=liveTennis[i].marketList.match_odd.marketId%>">
                      <%if(user && userMultimarkets != null){ %>
                        <%let check = userMultimarkets.marketIds.find(item => item == liveTennis[i].marketList.match_odd.marketId) %>
                      <%if(check){%>
                        <a><img src="../../assets/img/exchange/Vector2.svg" alt=""></a> 
                      <%}else{%>
                        <a><img src="../../assets/img/exchange/Vector.png" alt=""></a> 
                      <%}%>
                      <%}else{%>
                        <a><img src="../../assets/img/exchange/Vector.png" alt=""></a>
                      <%}%>
                    </td>
                    <%}else{%>
                      <td style="border-bottom: 0px;"  class="0B" id="<%=secIds[0]%>"></td>
                        <td style="border-bottom: 0px;"  class="0L" id="<%=secIds[0]%>"></td>
                        <td style="border-bottom: 0px;"  class="2B" id="<%=secIds[2]%>"></td>
                        <td style="border-bottom: 0px;"  class="2L" id="<%=secIds[2]%>"></td>
                        <td style="border-bottom: 0px;"  class="1B" id="<%=secIds[1]%>"></td>
                        <td style="border-bottom: 0px;"  class="1L" id="<%=secIds[1]%>"></td>
                        <td style="border-bottom: 0px;" class="multi_market" id="<%=liveTennis[i].marketList.match_odd.marketId%>">
                          <%if(user && userMultimarkets != null){ %>
                            <%let check = userMultimarkets.marketIds.find(item => item == liveTennis[i].marketList.match_odd.marketId) %>
                          <%if(check){%>
                            <a><img src="../../assets/img/exchange/Vector2.svg" alt=""></a> 
                          <%}else{%>
                            <a><img src="../../assets/img/exchange/Vector.png" alt=""></a> 
                          <%}%>
                          <%}else{%>
                            <a><img src="../../assets/img/exchange/Vector.png" alt=""></a>
                          <%}%>
                        </td>
                    <%}%>
                </tr>
                <%cricketNum++%>
              <%}%>
            <%}%>
            <% j = cricketNum %>
            <%for(let i = 0; i < upcomintTennis.length; i++){%>
              <%if(upcomintTennis[i].marketList.match_odd != null){%>
                <%
                  var timestamp = `${upcomintTennis[i].eventData.time}` * 1000; 
                  var date = new Date(timestamp);
                  var options = { 
                    day: '2-digit',
                    month: 'short'
                  };
                  var formattedTime = date.toLocaleString('en-US', options);
                %>
                <tr class="acount-stat-tbl-body-tr tbl-data-href"  data-href='/exchange_inPlay/match?id=<%=upcomintTennis[i].eventData.eventId%>'>
                  <td style="border-bottom: 0px;" class="name1" id="<%=upcomintTennis[i].marketList.match_odd.marketId%>" >
                    <div class="exchange-pg-mytbl-body-cricket-data-dv">
                      <%= j%>)
                      <p>
                        <span><%=upcomintTennis[i].eventData.league%></span> • <%=formattedTime%>
                      </p>
                      <p>
                          <b><%=upcomintTennis[i].eventData.name%></b>
                      </p>
                  </div>
                  </td>
                  <td style="border-bottom: 0px;" >
                    <div class="exchange-td2-txtdv">
                      <%if(upcomintTennis[i].eventData.isTv){%>
                        <div class="exchange-td2-txtdv-tv">
                          <i class="fa-solid fa-tv c-activee"></i>
                        </div>
                      <%}%>
                      <%if(upcomintTennis[i].marketList.match_odd != null){%>
                      <div class="exchange-td2-txtdv-inn1">
                        <p> MO </p>
                        <span>35</span>
                      </div>
                      <%} %>
                      <%if(upcomintTennis[i].marketList.fancy != null){%>
                        <div class="exchange-td2-txtdv-inn1">
                          <p> F </p>
                          <span>1</span>
                        </div>
                      <%}%>
                      <%if(upcomintTennis[i].marketList.bookmaker != null){%>
                        <div class="exchange-td2-txtdv-inn1">
                          <p> B </p>
                          <span>1</span>
                        </div>
                      <%} %>
                    </div>
                  </td>
                  <% let runners = JSON.parse(upcomintTennis[i].marketList.match_odd.runners); %>
                  <% let runners1 = []; %>
                  <%let secIds = []; %>
                  <%runners.forEach(item => {%>
                      <%runners1.push(item.runner);%>
                      <%secIds.push(item.secId);%>
                  <%});%>
                  <%if(runners1.length === 2){%>
                    <td style="border-bottom: 0px;"  class="0B" id="<%=secIds[0]%>"></td>
                    <td style="border-bottom: 0px;"  class="0L" id="<%=secIds[0]%>"></td>
                    <td style="border-bottom: 0px;"  class="">
                      <span class="tbl-td-bg-blu-spn mylock-data">
                        <i class="fa-solid fa-lock"></i>
                      </span>
                    </td>
                    <td style="border-bottom: 0px;"  class="">
                      <span class="tbl-td-bg-pich-spn mylock-data">
                        <i class="fa-solid fa-lock"></i>
                      </span>
                    </td>
                    <td style="border-bottom: 0px;"  class="1B" id="<%=secIds[1]%>"></td>
                    <td style="border-bottom: 0px;"  class="1L" id="<%=secIds[1]%>"></td>
                    <td style="border-bottom: 0px;" class="multi_market" id="<%=upcomintTennis[i].marketList.match_odd.marketId%>">
                      <%if(user && userMultimarkets != null){ %>
                        <%let check = userMultimarkets.marketIds.find(item => item == upcomintTennis[i].marketList.match_odd.marketId) %>
                      <%if(check){%>
                        <a><img src="../../assets/img/exchange/Vector2.svg" alt=""></a> 
                      <%}else{%>
                        <a><img src="../../assets/img/exchange/Vector.png" alt=""></a> 
                      <%}%>
                      <%}else{%>
                        <a><img src="../../assets/img/exchange/Vector.png" alt=""></a>
                      <%}%>
                    </td>
                    <%}else{%>
                        <td style="border-bottom: 0px;"  class="0B" id="<%=secIds[0]%>"></td>
                        <td style="border-bottom: 0px;"  class="0L" id="<%=secIds[0]%>"></td>
                        <td style="border-bottom: 0px;"  class="2B" id="<%=secIds[2]%>"></td>
                        <td style="border-bottom: 0px;"  class="2L" id="<%=secIds[2]%>"></td>
                        <td style="border-bottom: 0px;"  class="1B" id="<%=secIds[1]%>"></td>
                        <td style="border-bottom: 0px;"  class="1L" id="<%=secIds[1]%>"></td>
                        <td style="border-bottom: 0px;" class="multi_market" id="<%=upcomintTennis[i].marketList.match_odd.marketId%>">
                          <%if(user && userMultimarkets != null){ %>
                            <%let check = userMultimarkets.marketIds.find(item => item == upcomintTennis[i].marketList.match_odd.marketId) %>
                          <%if(check){%>
                            <a><img src="../../assets/img/exchange/Vector2.svg" alt=""></a> 
                          <%}else{%>
                            <a><img src="../../assets/img/exchange/Vector.png" alt=""></a> 
                          <%}%>
                          <%}else{%>
                            <a><img src="../../assets/img/exchange/Vector.png" alt=""></a>
                          <%}%>
                        </td>
                  <%}%>
                </tr>
                <%j++%>
              <%}%>
            <%}%>
              
          </tbody>

        </table>
  </div>
<%}%>