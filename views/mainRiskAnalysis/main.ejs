<!DOCTYPE html>
<html>

<head>
    <title>Admin Table</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<style>
    @import url(http://ollscores.com/css/style.css);

    .analysis-data { font-weight: 300; display: grid; grid-template-columns: auto 50%; gap: 30px; }
    .analysis-data strong { font-weight: 600; }
    .analysis-data .title { display: flex; justify-content: space-between; background: var(--primary-color); color: #fff; padding: 10px 15px; border-radius: 30px; gap: 10px; }
    .analysis-data .live-score-banner { padding: 15px; border-radius: 30px; background: #fff; border: 1px solid #d7d7d7; }
    .analysis-data .bets-table{padding: 15px; border-radius: 30px; background: #fff; border: 1px solid #d7d7d7; margin-top: 15px;}
    .analysis-data .bets-table .title{margin: 0 0 10px;}
    .analysis-data .bets-table table tr .bets-option-btn{display: flex; width: 100%; gap: 10px; position: relative;}
    .analysis-data .bets-table table tr .bets-option-btn .bets-btn-group{display: flex; gap: 10px; justify-content: center; flex: auto;}
    .analysis-data .bets-table table tr .bets-option-btn .match-status-message { position: absolute; top: 0; left: 0; height: 100%; width: 100%; font-weight: 600; color: red; background: rgb(0, 0, 0, 0.6); text-align: center; display: flex; align-items: center; justify-content: center; text-transform: uppercase; border-radius: 5px; }
    .analysis-data .bets-table table tr .bets-option-btn .bets-btn { background-color: #72bbef; color: #000; padding: 2px 5px 3px; font-size: 20px; line-height: 1; min-width: 75px; height: 42px; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 5px; cursor: pointer; }
    .analysis-data .bets-table table tr .bets-option-btn .bets-btn-group.pink .bets-btn{background-color: #f994ba;}
    .analysis-data .bets-table table tr .bets-option-btn .bets-btn .small{font-size: 13px;}
    .analysis-data .bets-table table tr th:first-child{width: 100%;}
    .analysis-data .bets-table table tr  .min-max-text{white-space: nowrap; color: #182ea6;}
    .bets-table .tab-data-section{all: unset;}
    .bets-table .tab-data-section .tabcontent{all: unset; padding: 20px 0 0;}
</style>

<body>
  <%- include("../header") %>
  <div class="dashboard-main-wraper">
    <section class="dashboard-welcome-section">
      <div class="container-fluid">
        <div class="new-head"> 
            <h3><%=match.eventData.name%></h3>
        </div>
      
    </section>
    <div class="analysis-data">
        <div class="content-left">
            <!-- Live match score -->
            <%if(match.eventData.type != "UPCOMING"){ %>
              <div class="live-score-banner">
                  <div class="live-score">
                      
                  </div>
              </div>
            <%}%>
            <!-- Match Odds -->
            <%if(match.marketList.match_odd != null){%>
              <div class="bets-table">
                  <div class="title">
                      <div class="text-left market" id="<%=match.marketList.match_odd.marketId%>"><strong>Match Odds</strong></div>
                      <div class="text-right"><strong>Min : <%=min%>, Max : <%=max%></strong></div>
                  </div>
                      <% let runners = JSON.parse(match.marketList.match_odd.runners); %>
                    <% const runners1 = []; %>
                    <%const secIds = []; %>
                    <%runners.forEach(item => {%>
                        <%runners1.push(item.runner);%>
                        <%secIds.push(item.secId);%>
                    <%});%>
                  <table>
                    <tr>
                      <th>Market</th>
                      <th>
                        <div class="bets-option-btn">
                          <div class="bets-btn-group">Back</div>
                          <div class="bets-btn-group">Lay</div>
                        </div>
                      </th>
                    </tr>
                    <%for(let i = 0; i < runners1.length; i++){%>
                      <tr>
                        <td><%=runners1[i]%></td>
                        <td>
                          <div class="bets-option-btn">
                            <div class="bets-btn-group">
                                <div class="bets-btn match_odd_Blue" id="<%=secIds[i]%>3">
                                    <strong>1.54</strong>
                                    <span class="small">469</span>
                                </div>                                    
                                <div class="bets-btn match_odd_Blue" id="<%=secIds[i]%>2">
                                    <strong>1.54</strong>
                                    <span class="small">469</span>
                                </div>                                    
                                <div class="bets-btn match_odd_Blue" id="<%=secIds[i]%>1">
                                    <strong>1.54</strong>
                                    <span class="small">469</span>
                                </div>
                            </div>
                            <div class="bets-btn-group pink">
                                <div class="bets-btn match_odd_Red" id="<%=secIds[i]%>4">
                                    <strong>1.54</strong>
                                    <span class="small">469</span>
                                </div>                                    
                                <div class="bets-btn match_odd_Red" id="<%=secIds[i]%>5">
                                    <strong>1.54</strong>
                                    <span class="small">469</span>
                                </div>                                    
                                <div class="bets-btn match_odd_Red" id="<%=secIds[i]%>6">
                                    <strong>1.54</strong>
                                    <span class="small">469</span>
                                </div>
                            </div>
                        </div>
                        </td>
                      </tr>
                    <%}%>
                  </table>
              </div>
            <%}%>
            <!-- Bookmaker -->
            <%if(match.marketList.bookmaker != null){%>
              <div class="bets-table">
                  <div class="title">
                      <div class="text-left market" id="<%=match.marketList.bookmaker[0].marketId%>"><strong>Bookmaker</strong></div>
                      <div class="text-right"><strong>Min : 100, Max : 10K</strong></div>
                  </div>
                  <table>
                      <tr>
                          <th>Market</th>
                          <th>
                              <div class="bets-option-btn">
                                  <div class="bets-btn-group">Back</div>
                                  <div class="bets-btn-group">Lay</div>
                              </div>
                          </th>
                      </tr>
                      <%
                        let StringData = match.marketList.bookmaker[0].runners
                        const cleanedString = StringData.replace(/'/g, '');
                        const jsonData = JSON.parse(cleanedString);
                      %>
                      <%for(let i = 0; i < jsonData.length; i++){%>
                        <tr>
                            <td><%=jsonData[i].runner%></td>
                            <td>
                                <div class="bets-option-btn">
                                    <div class="bets-btn-group" >                                 
                                        <div class="bets-btn bookmaker_blue" id="<%=jsonData[i].secId%>1">
                                            <strong>1.54</strong>
                                            <span class="small">469</span>
                                        </div>
                                    </div>
                                    <div class="bets-btn-group pink">                                  
                                        <div class="bets-btn bookmaker_red" id="<%=jsonData[i].secId%>2">
                                          <span class="tbl-td-bg-pich-spn mylock-data">
                                            <i class="fa-solid fa-lock"></i>
                                          </span>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                      <%}%>
                  </table>
              </div>
            <%}%>
            <!-- Toss -->
            <!-- <div class="bets-table">
                <div class="title">
                    <div class="text-left"><strong>Toss</strong></div>
                    <div class="text-right"><strong>Min : 100, Max : 10K</strong></div>
                </div>
                <table>
                    <tr>
                        <th>Market</th>
                        <th>
                            <div class="bets-option-btn">
                                <div class="bets-btn-group">Back</div>
                                <div class="bets-btn-group">Lay</div>
                            </div>
                        </th>
                    </tr>
                    <tr>
                        <td>England</td>
                        <td>
                            <div class="bets-option-btn">
                                <div class="bets-btn-group">                                 
                                    <div class="bets-btn">
                                        <strong>1.54</strong>
                                        <span class="small">469</span>
                                    </div>
                                </div>
                                <div class="bets-btn-group pink">                                  
                                    <div class="bets-btn">
                                        <strong>1.54</strong>
                                        <span class="small">469</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>England</td>
                        <td>
                            <div class="bets-option-btn">
                                <div class="bets-btn-group">                                 
                                    <div class="bets-btn">
                                        <strong>1.54</strong>
                                        <span class="small">469</span>
                                    </div>
                                </div>
                                <div class="bets-btn-group">                                  
                                    <div class="bets-btn">
                                        <strong>1.54</strong>
                                        <span class="small">469</span>
                                    </div>
                                </div>
                                <div class="match-status-message">Suspended</div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div> -->
            <!-- Fancy -->
            <div class="bets-table">
                <div class="title">
                    <div class="text-left"><strong>Fancy</strong></div>
                </div>
                <div class="tab-data-section">
                    <div class="tab">
                        <button class="tablinks active">All</button>
                        <button class="tablinks">Session</button>
                        <button class="tablinks">W/P Market</button>
                        <button class="tablinks">Odd/Even</button>
                    </div>
                    <div class="tabcontent" id="">
                        <table>
                            <tr>
                                <th>Sessions</th>
                                <th></th>
                                <th>
                                    <div class="bets-option-btn">
                                        <div class="bets-btn-group">Yes</div>
                                        <div class="bets-btn-group">No</div>
                                    </div>
                                </th>
                            </tr>
                            <tr>
                                <td>England</td>
                                <td><div class="min-max-text"><strong>Min : 100, Max : 10K</strong></div></td>
                                <td>    
                                <div class="bets-option-btn">
                                    <div class="bets-btn-group">                                 
                                        <div class="bets-btn">
                                            <strong>1.54</strong>
                                            <span class="small">469</span>
                                        </div>
                                    </div>
                                    <div class="bets-btn-group pink">                                  
                                        <div class="bets-btn">
                                            <strong>1.54</strong>
                                            <span class="small">469</span>
                                        </div>
                                    </div>
                                </div>
                                </td>
                            </tr>
                            <tr>
                                <td>England</td>
                                <td><div class="min-max-text"><strong>Min : 100, Max : 10K</strong></div></td>
                                <td>
                                    <div class="bets-option-btn">
                                        <div class="bets-btn-group">                                 
                                            <div class="bets-btn">
                                                <strong>1.54</strong>
                                                <span class="small">469</span>
                                            </div>
                                        </div>
                                        <div class="bets-btn-group">                                  
                                            <div class="bets-btn">
                                                <strong>1.54</strong>
                                                <span class="small">469</span>
                                            </div>
                                        </div>
                                        <div class="match-status-message">Suspended</div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="sidebar">
            <div class="live-match">
                Live match
            </div>
            <div class="sidebar-block open-bets-table">
              <div class="sidebar-title">Open Bets</div>
              <div class="sidebar-content" style="display: block;">
                  <div class="data-table">
                      <table>
                          <tr>
                              <th>Username</th>
                              <th>Place Date</th>
                              <th>Market</th>
                              <th>Bet Type</th>
                              <th>Odds</th>
                              <th>Stake</th>
                              <th>Action</th>
                          </tr>
                          <tr>
                              <td>shreebala</td>
                              <td>01/09/23, 4:37:38 PM</td>
                              <td>MATCH_ODDS</td>
                              <td>Pedro Martinez</td>
                              <td>1.37</td>
                              <td>100.00</td>
                              <td><div class="btn-group"><button class="btn alert-btn">Alert</button></div></td>
                          </tr>
                      </table>
                  </div>
              </div>
          </div>
        </div>
    </div>
    </div>
</body>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
      $(document).ready(function(){
        $('.bets-table .tab-data-section .tab .tablinks').click(function(){
            $('.bets-table .tab-data-section .tab .tablinks').removeClass('active');
            $(this).addClass('active');
            var tagid = $(this).data('tag');
            $('.bets-table .tab-data-section .tabcontent').removeClass('active').addClass('hide-tab');
            $('#'+tagid).addClass('active').removeClass('hide-tab');
        });
        $('.bets-table .tab-data-section .tab .tablinks[data-tag="all"]').click(function(){
            $('.bets-table .tab-data-section .tabcontent').removeClass('hide-tab')
        });
        $('.analysis-data .sidebar .sidebar-title').click(function(){
            $(this).siblings('.sidebar-content').slideToggle();
        });
        $('.analysis-data .main-tab-btn ul li button.open-bets-show').click(function(){
            $(this).parents('.analysis-data').addClass('show-open-bets-data');
            $(this).addClass('active');
            $('.analysis-data .main-tab-btn ul li button').removeClass('active');
        });
    });
</script>
</html>